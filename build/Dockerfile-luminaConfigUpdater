FROM golang:1.24 as build

WORKDIR $GOPATH/src/diadata-org/decentral-feeder
COPY ./tools/configUpdater ./ 

RUN go mod download
RUN go mod tidy

RUN go install


FROM gcr.io/distroless/base


COPY --from=build /go/bin/configUpdater /bin/luminaConfigUpdater
COPY config/ /config/

CMD ["luminaConfigUpdater"]
